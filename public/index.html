<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Polyphonic Earth</title>
  <link rel="stylesheet" href="/css/style.css">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-162427153-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-162427153-2');
  </script>
</head>
<body>
  <div id="app">
    <transition name="fade">
      <div 
        id="loading-screen"
        v-if="this.isLoading"
      >

      <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
      </div>
    </transition>
    <h1 
      @click="goHome()"
    >
      Polyphonic Earth
    </h1>
    <section class="header">
      <input class="menu-btn" type="checkbox" id="menu-btn" />
      <label 
        class="menu-icon" 
        for="menu-btn"
        @click="toggleDropdown()"
      >
        <span class="navicon"></span>
      </label>
      <ul 
        :class="[this.isMobileView && this.menuDropdownToggle ? 'menu-border' : '', 'menu']"
        ref="mainMenu"
      >
        <li 
          id="about-link"
          :class="[this.isMobileView && this.menuDropdownToggle ? 'li-border' : '']"
        >
          <a href="#" @click="toggleAbout()">
            About the project +
          </a>
        </li>
        <transition name="fade">
          <li 
            id="contact-link" 
            v-if="this.introShown && (!this.aboutOpen || this.isMobileView)"
            :class="[this.isMobileView && this.menuDropdownToggle ? 'li-border' : '']"
          >
            <a href="#" @click="toggleIntro()">
              Help +
            </a>
          </li>
        </transition>
      </ul>
    </section>
    <transition name="fade">
      <section 
        id="intro-content" 
        v-if="this.introOpen && !this.aboutOpen"
        :class="[!this.isMobileView && this.introShown ? 'side-help' : '']"
      >
        <button
          id='close-help' 
          v-if="this.introOpen && this.introShown && !this.isMobileView"
          @click="toggleIntro()"
        >
        ×
        </button>
        <p :class="['text-block', this.introOpen && this.introShown && !this.isMobileView ? 'small-text-block' : '']">
          In times that call for us to be physically apart, we would like to propose an alternative view of what it can mean to be together. Nobody is ever alone. We are all part of the ecosystem of the Earth.
        </p>
        <div id="list-grid-container" :class="[this.introOpen && this.introShown && !this.isMobileView ? 'small-list-grid-container' : '']">
          <ul :class="['list-grid', this.introOpen && this.introShown && !this.isMobileView ? 'small-list-grid' : '']">
            <li :class="['point-grid', this.introOpen && this.introShown && !this.isMobileView ? 'small-point-grid' : '']">
              <p :class="['intro-number', this.introOpen && this.introShown && !this.isMobileView ? 'small-intro-number' : '']">
                1.
              </p>
              <p :class="['intro-point', this.introOpen && this.introShown && !this.isMobileView ? 'small-intro-point' : '']">
                Allow your location to be accessed so light can shine from where you are when emitting a sound. If you would prefer not to, you will view the website as a guest.  
              </p>
            </li>
            <li :class="['point-grid', this.introOpen && this.introShown && !this.isMobileView ? 'small-point-grid' : '']">
              <p :class="['intro-number', this.introOpen && this.introShown && !this.isMobileView ? 'small-intro-number' : '']">
                2.
              </p>
              <p :class="['intro-point', this.introOpen && this.introShown && !this.isMobileView ? 'small-intro-point' : '']">
                Press enter to interact with other earthly neighbours through sound. 
              </p>
            </li>
            <li :class="['point-grid', this.introOpen && this.introShown && !this.isMobileView ? 'small-point-grid' : '']">
              <p :class="['intro-number', this.introOpen && this.introShown && !this.isMobileView ? 'small-intro-number' : '']">
                3.
              </p>
              <p :class="['intro-point', this.introOpen && this.introShown && !this.isMobileView ? 'small-intro-point' : '']">
                You can edit the sound emitted by selecting different circles next to the ‘Say Hi’ button.
              </p>
            </li>
          </ul>
        </div>
       
        <p id="intro-text-bottom" :class="['text-block', this.introOpen && this.introShown && !this.isMobileView ? 'small-text-block' : '']">
          Each light is an indication of where other people currently on the website are located.
        </p>
    

        <button 
          v-if="!this.introShown"
          id="intro-cta"
          @click="toggleIntro()"
        >
          Enter
        </button>
      </section>
    </transition>
    
    <transition name="fade">
      <section 
        id="about-content"
        v-if="this.aboutOpen"
      >
        <h2>
          About the project
        </h2>
        <p>Polyphonic Earth is a creative project in response to the social distances measures being installed in the world for Covid-19.</p>
        <p>Music has been embedded in cultures for as long as people have formed communities. It has become an integral part of social dynamics, and it is used to collect and bond together. During these difficult times where humans are forced into isolation, this project encourages a social interaction that transcends language online. Polyphonic Earth proposes a way to bridge the social gap by connecting spaces and people from across the globe in unity and harmony. </p>
        <p>The music and interaction for this piece include sounds that when a button is pressed activates a tone or percussive hit that plays back to all interacting with the website. Each sound is instructed to be in tune with all other sounds so everyone becomes an effortless musician.</p>
        <p>Polyphonic Earth was developed by the collective <a href="http://www.climateandcities.com" target="_blank">Climate and Cities</a> for the UN open-call for creatives. The source code is <a href="https://github.com/468/cc-globe" target="_blank">available on Github</a>.</p>
        <p>[<a href="http://www.climateandcities.com" target="_blank">website</a>/<a href="https://www.instagram.com/climateandcities/" target="_blank">insta</a>/<a href="https://twitter.com/climate_cities" target="_blank">twitter</a>]</p>
      </section>
    </transition>

    <transition name="fade">
      <div 
        id="pitch-container"
        v-if="this.pitchEnabled && !this.introOpen"
      >

        <div id="pitch-options-left" class="pitch-options">
          <input type="radio" id="pitch-option-1" :value="scale[0]" v-model="pitch" class="checkmark">
          <label for="pitch-option-1">1</label> 

          <input type="radio" id="pitch-option-2" :value="scale[1]" v-model="pitch" class="checkmark">
          <label for="pitch-option-2">2</label> 
          
          <input type="radio" id="pitch-option-3"  :value="scale[2]" v-model="pitch" class="checkmark">
          <label for="pitch-option-3">3</label> 
        </div>

        <div id="pitch-options-right" class="pitch-options" >
          <input type="radio" id="pitch-option-4" :value="scale[3]" v-model="pitch" class="checkmark" v-if="this.scale.length > 3">
          <label for="pitch-option-4" v-if="this.scale.length > 3">4</label> 

          <input type="radio" id="pitch-option-5" :value="scale[4]" v-model="pitch" class="checkmark" v-if="this.scale.length > 4">
          <label for="pitch-option-5" v-if="this.scale.length > 4">5</label> 

          <input type="radio" id="pitch-option-6"  :value="scale[5]" v-model="pitch" class="checkmark" v-if="this.scale.length > 5">
          <label for="pitch-option-6" v-if="this.scale.length > 5">6</label> 
        </div>
      </div>
    </transition>

    
    <transition name="fade">
      <div 
        id="cta-container"
        v-if="this.ctaEnabled && (!this.introOpen && !this.aboutOpen)"
      >
        <button 
          id="cta" 
          @click="triggerCta()"
        >
          Say Hi
        </button>
      </div>
    </transition>
    
    <div class="three-container">
    </div>

    <div id="logo-container">
      <a href="http://www.climateandcities.com/" target="_blank">
        <img src="/assets/LOGO_TRANSPAsset-32x.png" id="logo" />
      </a>
    </div>

    <transition name="fade">
      <div id="gdpr-banner-container" v-if="GDPRpopup">
        <div id="gdpr-banner">
          <span>This website uses performance cookies to know how people have used our website. We do not track personal information and do not store your location once you have left!</span> 
          <button @click="acceptGDPR()" id="accept-gdpr">Okay</button>
        </div>
      </div>
    </transition>

  </div>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;700&display=swap" rel="stylesheet"> 
  <script src="https://cdn.jsdelivr.net/npm/vue"></script>
  <script src="/js/bundle.js" type="module"></script>
</body>
</html>
